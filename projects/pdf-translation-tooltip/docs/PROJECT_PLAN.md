# PDF Translation Tooltip 프로젝트 기획서

## 프로젝트 개요

### 프로젝트명
**PDF Translation Tooltip** (PDF 번역 툴팁)

### 한 줄 설명
PDF 파일에서 영어 단어나 문장을 드래그하면 즉시 한국어 번역이 툴팁으로 표시되는 웹 서비스

### 배경 및 문제점
- 영어 PDF 문서(논문, 기술 문서, 전자책 등)를 읽을 때 모르는 단어가 나오면 흐름이 끊김
- 번역기 탭을 따로 열어 복사-붙여넣기 하는 과정이 번거로움
- 기존 PDF 뷰어에는 번역 기능이 없거나 유료
- 브라우저 확장 프로그램은 설치가 필요하고 PDF에서 잘 동작 안 함

### 해결 방안
**"드래그만 하면 번역 끝!"**

1. 웹 브라우저에서 PDF 파일 열기
2. 모르는 단어/문장 드래그
3. 툴팁으로 즉시 한국어 번역 표시
4. 계속 읽기

→ **탭 전환 없이, 드래그 한 번으로 번역 완료**

### 목표
- **즉시 번역**: 드래그 → 툴팁 (1초 이내)
- **무설치**: 웹 브라우저만 있으면 OK
- **심플한 UI**: PDF와 툴팁, 그게 전부
- **무료**: 무료 번역 API 활용

---

## 타겟 사용자

### 주 타겟
- 영어 PDF 문서를 자주 읽는 사람
- 논문, 기술 문서를 읽는 대학생/연구자/개발자
- 영어 전자책을 읽는 독자
- 번역기 탭 전환이 귀찮은 모든 사람

### 핵심 사용 시나리오

#### 시나리오 1: 영어 논문 읽기
```
영어 논문 PDF를 열어서 읽는 중
 ↓
모르는 단어 "ubiquitous" 발견
 ↓
해당 단어 드래그
 ↓
툴팁: "ubiquitous - 어디에나 있는, 편재하는"
 ↓
이해하고 계속 읽기
```

#### 시나리오 2: 기술 문서 읽기
```
React 공식 문서 PDF 읽는 중
 ↓
어려운 문장 발견
 ↓
문장 전체 드래그
 ↓
툴팁: 전체 문장 한국어 번역
 ↓
맥락 이해하고 계속 읽기
```

---

## 핵심 가치 제안

### "드래그 한 번, 번역 완료"

1. **1초 번역**: 드래그하면 바로 툴팁
2. **무설치**: 웹사이트 접속만 하면 됨
3. **무료**: 돈 안 듦
4. **심플**: 복잡한 기능 없음, 오직 번역

---

## 기능 목록

### Phase 1: MVP (핵심 기능)
**목표: PDF 열기 → 드래그 → 번역 툴팁**

#### 1. PDF 업로드 및 표시
- 파일 선택으로 PDF 업로드
- PDF.js로 PDF 렌더링
- 페이지 네비게이션 (이전/다음)
- 확대/축소

#### 2. 텍스트 선택 감지
- PDF 내 텍스트 드래그 감지
- 선택된 텍스트 추출
- 선택 위치 좌표 획득

#### 3. 번역 API 연동
- 무료 번역 API 사용 (MyMemory 또는 LibreTranslate)
- 영어 → 한국어 번역
- API 호출 및 결과 수신

#### 4. 번역 툴팁 표시
- 선택 위치 근처에 툴팁 표시
- 원문 + 번역문 표시
- 툴팁 외부 클릭 시 닫기
- 심플한 디자인

---

### Phase 2: 편의 기능
**목표: 사용성 개선**

#### 1. 단어장 기능
- 번역한 단어/문장 저장
- LocalStorage에 저장
- 저장 목록 보기
- 내보내기 (CSV)

#### 2. 발음 기능
- 영어 발음 듣기 (Web Speech API)
- 툴팁에 스피커 아이콘

#### 3. 히스토리
- 최근 번역 기록
- 다시 보기 기능

#### 4. UI 개선
- 다크 모드
- 툴팁 위치 자동 조정
- 로딩 인디케이터

---

### Phase 3: 고급 기능 (선택)
**목표: 확장성**

#### 1. 다양한 언어 지원
- 영어 외 다른 언어 선택
- 번역 대상 언어 선택

#### 2. URL로 PDF 열기
- PDF URL 입력하여 열기
- 드래그 앤 드롭 지원

#### 3. 오프라인 지원
- 기본 사전 데이터 캐싱
- Service Worker

---

## 기술 스택

### 최소 기술 스택 (Phase 1)
```
Frontend Only (No Backend)
├── HTML5
├── CSS3
├── Vanilla JavaScript
├── PDF.js (PDF 렌더링)
└── 무료 번역 API (MyMemory)
```

### 왜 이 스택인가?
- **복잡한 프레임워크 없음**: React, Vue 등 불필요
- **백엔드 없음**: 프론트엔드만으로 완결
- **빌드 과정 없음**: HTML 파일 하나로 동작
- **무료 호스팅**: GitHub Pages로 배포 가능

---

## 화면 구성

### 1. 메인 화면
```
┌─────────────────────────────────┐
│  PDF Translation Tooltip        │
├─────────────────────────────────┤
│                                 │
│   [PDF 파일 선택] 버튼          │
│                                 │
│   또는 파일을 여기에 드래그      │
│                                 │
└─────────────────────────────────┘
```

### 2. PDF 뷰어 화면
```
┌─────────────────────────────────┐
│ [<] 페이지 1/10 [>]   [-][+]   │
├─────────────────────────────────┤
│                                 │
│  ┌───────────────────────────┐  │
│  │                           │  │
│  │   PDF 내용...             │  │
│  │                           │  │
│  │   The [ubiquitous] use of │  │
│  │        └─────────────┐    │  │
│  │          ┌───────────┴──┐ │  │
│  │          │ubiquitous    │ │  │
│  │          │어디에나 있는 │ │  │
│  │          │[복사][저장]  │ │  │
│  │          └──────────────┘ │  │
│  │                           │  │
│  └───────────────────────────┘  │
│                                 │
└─────────────────────────────────┘
```

### 3. 툴팁 디자인
```
┌──────────────────────┐
│ ubiquitous      [x]  │
├──────────────────────┤
│ 어디에나 있는, 편재하는 │
├──────────────────────┤
│ [🔊 발음] [📋 복사] [💾 저장] │
└──────────────────────┘
```

---

## 핵심 사용자 플로우

### 기본 플로우
```
[웹사이트 접속]
      ↓
[PDF 파일 선택/업로드]
      ↓
[PDF 화면에 표시]
      ↓
[모르는 단어/문장 드래그]
      ↓
[번역 API 호출]
      ↓
[툴팁으로 번역 표시]
      ↓
[계속 읽기 or 저장]
```

---

## 개발 단계별 구현 계획

### Step 1: 프로젝트 셋업
- [ ] HTML 기본 구조 생성
- [ ] CSS 기본 스타일링
- [ ] PDF.js 라이브러리 연동

### Step 2: PDF 뷰어 구현
- [ ] 파일 업로드 UI
- [ ] PDF.js로 PDF 렌더링
- [ ] 페이지 네비게이션
- [ ] 확대/축소 기능

### Step 3: 텍스트 선택 기능
- [ ] PDF 텍스트 레이어 활성화
- [ ] 텍스트 선택 이벤트 감지
- [ ] 선택 텍스트 및 위치 추출

### Step 4: 번역 API 연동
- [ ] MyMemory API 연동
- [ ] API 호출 함수 구현
- [ ] 에러 처리

### Step 5: 툴팁 UI 구현
- [ ] 툴팁 컴포넌트 생성
- [ ] 위치 계산 로직
- [ ] 표시/숨김 기능
- [ ] 스타일링

### Step 6: 통합 및 테스트
- [ ] 전체 플로우 연결
- [ ] 버그 수정
- [ ] 배포 (GitHub Pages)

---

## 번역 API 옵션

### 1차 선택: MyMemory API (무료)
```
https://api.mymemory.translated.net/get
?q=hello
&langpair=en|ko
```
- 무료: 하루 1000회
- API 키 불필요
- 간단한 사용법

### 백업: LibreTranslate
```
https://libretranslate.com/translate
```
- 오픈소스
- 셀프 호스팅 가능

---

## 성공 지표

### 기능 완성도
- [ ] PDF 파일 업로드 및 표시
- [ ] 텍스트 드래그 시 번역 툴팁 표시
- [ ] 1초 이내 번역 응답

### 사용성
- PDF 열기부터 첫 번역까지 30초 이내
- 번역 정확도 체감 만족

---

## 제약 사항 및 대응

### 제약 1: PDF 텍스트 인식
- **문제**: 이미지 기반 PDF는 텍스트 선택 불가
- **대응**: "텍스트 선택이 안 되는 PDF입니다" 안내 메시지

### 제약 2: 무료 API 제한
- **문제**: 일일 요청 수 제한
- **대응**: 로컬 캐싱으로 중복 요청 방지

### 제약 3: CORS 이슈
- **문제**: 일부 API에서 CORS 차단
- **대응**: CORS 프록시 사용 또는 지원 API 선택

---

## 파일 구조

```
pdf-translation-tooltip/
├── index.html          # 메인 HTML
├── css/
│   └── style.css       # 스타일시트
├── js/
│   ├── app.js          # 메인 로직
│   ├── pdf-viewer.js   # PDF 뷰어 모듈
│   ├── translator.js   # 번역 API 모듈
│   └── tooltip.js      # 툴팁 모듈
├── docs/
│   └── PROJECT_PLAN.md # 이 문서
└── README.md           # 프로젝트 설명
```

---

## MVP 완료 체크리스트

- [ ] PDF 파일 업로드 가능
- [ ] PDF 화면에 렌더링
- [ ] 페이지 이동 가능
- [ ] 텍스트 드래그 가능
- [ ] 드래그 시 번역 툴팁 표시
- [ ] 툴팁에 원문 + 번역문 표시
- [ ] 툴팁 닫기 가능
- [ ] 반응형 디자인
- [ ] GitHub Pages 배포

---

**최종 업데이트**: 2025-12-05
**버전**: 1.0
**작성자**: CodeLab Team
