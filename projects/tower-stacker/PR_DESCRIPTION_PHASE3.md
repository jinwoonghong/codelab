# Phase 3: 게임 모드 구현

## 📋 개요
타워 스태커 게임의 Phase 3 개발 완료 - 4가지 게임 모드 구현

## ✨ 주요 변경사항

### 1. 게임 모드 시스템 구현
- **클래식 모드**: 제한 없이 최대한 높이 쌓기
- **타임 어택 모드**: 90초 제한 시간 내 최고 높이 달성
- **일일 도전 모드**: 매일 동일한 블록 순서로 도전 (시드 기반)
- **퍼즐 모드**: 10개의 스테이지별 미션 완료

### 2. 타임 어택 모드
- 90초 카운트다운 타이머 표시
- 10초 이하일 때 빨간색 깜빡임 효과
- 시간 종료 시 자동 게임 오버
- 모드별 최고 기록 저장

### 3. 일일 도전 모드
- 날짜 기반 시드 생성 (YYYYMMDD 형식)
- Seeded Random Number Generator로 블록 순서 결정
- 같은 날짜에는 모든 플레이어가 동일한 블록 순서
- 날짜 표시 UI

### 4. 퍼즐 모드
- 10개 스테이지 구현
  - 높이 목표 (5m, 10m, 15m, 20m, 30m)
  - 블록 개수 목표 (10개, 20개)
  - 특수 블록 사용 목표 (3개, 5개)
  - 생존 시간 목표 (30초)
- 스테이지 목표 달성 시 애니메이션
- 자동 다음 스테이지 진행
- 스테이지별 목표 및 진행상황 표시

### 5. 모드별 UI 구현
- 모드명 상단 표시
- 타임 어택: 타이머 표시 (⏱)
- 일일 도전: 날짜 표시 (📅)
- 퍼즐: 스테이지 번호 및 목표 표시

### 6. GameOverScene 개선
- 플레이한 모드 표시
- 모드별 최고 기록 저장/불러오기
- 같은 모드로 재시작 기능
- 퍼즐 모드는 스테이지 1부터 재시작

## 🔧 기술적 구현

### GameScene.js 주요 추가 메서드
- `updateTimer()`: 타임 어택 모드 타이머 업데이트
- `initDailySeed()`: 일일 도전 모드 시드 초기화
- `seededRandom()`: 시드 기반 난수 생성 (LCG 알고리즘)
- `checkStageGoal()`: 퍼즐 모드 목표 달성 체크
- `completeStage()`: 스테이지 완료 처리
- `getStageGoal()`: 스테이지 목표 데이터 반환
- `getGoalText()`: 목표 텍스트 생성

### 블록 생성 시스템 개선
- `determineBlockType()` 메서드 수정
- 일일 도전 모드에서 시드 기반 블록 타입 결정
- 블록 순서의 결정적(deterministic) 생성 보장

### 데이터 관리
- 모드별 독립적인 최고 기록 저장
- IndexedDB 활용한 영구 저장
- 퍼즐 모드 현재 스테이지 추적

## 🎮 게임 플레이

### 클래식 모드
- 제한 없이 자유롭게 플레이
- 최대 높이 기록 도전

### 타임 어택 모드
1. 90초 제한 시간
2. 타이머가 화면 상단에 표시
3. 10초 이하일 때 경고 효과
4. 시간 내 최고 높이 달성이 목표

### 일일 도전 모드
1. 매일 자정에 새로운 블록 순서 생성
2. 모든 플레이어가 동일한 조건으로 플레이
3. 날짜가 화면에 표시
4. 친구들과 같은 조건에서 경쟁 가능

### 퍼즐 모드
1. 스테이지 1부터 순차 진행
2. 각 스테이지는 고유한 목표 보유
3. 목표 달성 시 축하 메시지
4. 3초 후 자동으로 다음 스테이지
5. 스테이지 10 완료 시 게임 오버

## 📁 변경된 파일

- `src/scenes/GameScene.js`
  - 게임 모드 초기화 로직 추가
  - 모드별 UI 생성
  - 모드별 업데이트 로직
  - 180줄 추가 (총 853줄)

- `src/scenes/GameOverScene.js`
  - 모드 정보 표시
  - 모드별 재시작 로직
  - 15줄 수정

## 🎯 다음 단계

Phase 4로 진행 예정:
- 코인 시스템
- 블록 스킨 & 테마
- 업적 및 칭호
- 박물관

## 🔍 테스트 방법

1. 메인 메뉴에서 각 모드 선택
2. **클래식 모드**: 제한 없이 블록 쌓기 테스트
3. **타임 어택 모드**: 타이머 동작 및 시간 종료 확인
4. **일일 도전 모드**: 블록 순서가 일정한지 확인 (재시작 시 동일)
5. **퍼즐 모드**: 각 스테이지 목표 달성 및 진행 확인

## ✅ 체크리스트

- [x] 4가지 게임 모드 구현
- [x] 타임 어택 타이머 기능
- [x] 일일 도전 시드 시스템
- [x] 퍼즐 모드 10개 스테이지
- [x] 모드별 UI 표시
- [x] 모드별 최고 기록 저장
- [x] GameOverScene 모드 정보 표시
- [x] 재시작 시 모드 유지

---

**개발자**: Claude
**날짜**: 2025-11-01
**Phase**: 3 (게임 모드)
